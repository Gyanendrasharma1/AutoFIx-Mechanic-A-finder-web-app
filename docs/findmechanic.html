<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find a Mechanic</title>
    <link rel="stylesheet" href="style.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
       /* Global Styles */
/* Basic Reset */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* Body Styles */
body {
    font-family: Arial, sans-serif;
    background-color: #f4f4f4; /* Light background color */
    color: #333; /* Dark text color */
}

/* Header Styles */
.user-header-container {
    background-color: #000000; /* Dark background */
    color: #ffffff; /* White text */
    padding: 15px;
    display: flex;
    align-items: center; /* Center the text vertically */
    height: 60px; /* Fixed height */
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* Slight shadow */
    position: fixed; /* Fix position at the top */
    width: 100%; /* Full width */
    z-index: 1000; /* Keep it on top */
}

.user-header-container h1 {
    font-size: 30px; /* Font size */
    font-weight: bold; /* Bold text */
}

/* Toggle Button Container */
.user-toggle-button-container {
    margin-left: 0;
    height: 60px; /* Increased height */
    width: 100%; /* Full width */
    display: flex; /* Use flexbox for centering */
    align-items: center; /* Center items vertically */
    position: fixed; /* Fix position at the top */
    top: 60px; /* Below the header */
}

/* Toggle Button Styles */
#user-toggle-button {
    background-color: transparent;
    color: #000000; /* Black text */
    border: none;
    padding: 0; /* Remove padding */
    height: 100%; /* Match button height to container */
    width: 60px; /* Fixed width for the button */
    cursor: pointer; /* Pointer cursor */
    font-size: 24px; /* Font size */
    font-weight: bold;
}

/* Navigation Bar Styles */
.user-nav-bar {
    width: 250px; /* Width of the sidebar */
    background-color: #000000; /* Dark background */
    height: 100%; /* Full height */
    position: fixed; /* Fix position on the left */
    top: 60px; /* Below the toggle button */
    left: -250px; /* Start off-screen */
    transition: left 0.3s ease; /* Slide transition */
    z-index: 999; /* Just below the header */
}

.user-nav-bar.active {
    left: 0; /* Slide in */
}

.user-nav-bar a {
    display: block; /* Stack links vertically */
    color: rgb(253, 253, 253); /* White text */
    padding: 15px 20px; /* Padding for links */
    text-decoration: none; /* Remove underline */
    font-size: 18px; /* Font size for links */
}

.user-nav-bar a:hover {
    background-color: #0056b3; /* Darker blue on hover */
}

/* Close Button */
.user-close-button {
    background: none;
    border: none;
    color: rgb(255, 255, 255);
    font-size: 24px;
    align-self: flex-end; /* Position close button at the top right */
    cursor: pointer; /* Pointer cursor */
}

/* Profile Popup Styles */
.user-profile-popup {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.9); /* Darker semi-transparent background */
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1001; /* Above other elements */
}

.user-popup-content {
    background: #ffffff; /* White background */
    padding: 40px; /* Increased padding */
    border-radius: 12px; /* Rounded corners */
    width: 90%;
    max-width: 500px; /* Increased maximum width for larger screens */
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.25); /* Deeper shadow for a more pronounced effect */
    position: relative; /* Positioning for close button */
    animation: slideIn 0.5s ease-out; /* Slide-in animation */
}

/* Slide-in Animation */
@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateY(-30px); /* Slide in from above */
    }
    to {
        opacity: 1;
        transform: translateY(0); /* Slide to original position */
    }
}

.user-close-popup {
    position: absolute;
    top: 15px; /* Positioning for close button */
    right: 20px; /* Positioning for close button */
    font-size: 28px; /* Larger close button */
    cursor: pointer; /* Pointer cursor */
    color: #333; /* Dark color */
    transition: color 0.3s, transform 0.3s; /* Smooth color and scale transition */
}

.user-close-popup:hover {
    color: #ff0000; /* Change color on hover */
    transform: scale(1.2); /* Slightly increase size on hover */
}

.user-profile-title {
    text-align: center; /* Center the title */
    color: #007bff; /* Blue color for title */
    margin-bottom: 20px; /* Space below the title */
    font-size: 26px; /* Larger title font size */
    letter-spacing: 1px; /* Increased letter spacing for title */
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2); /* Soft shadow for title */
}

p {
    margin: 15px 0; /* Space between paragraphs */
    font-size: 18px; /* Paragraph font size */
    color: #555; /* Slightly lighter color for text */
    line-height: 1.5; /* Improved line height for readability */
}

strong {
    color: #007bff; /* Blue color for strong text */
    font-weight: 600; /* Bold weight for strong text */
}

/* Subtle pulse animation for profile data */
@keyframes pulse {
    0%, 100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.03); /* Slightly enlarge */
    }
}

span {
    display: inline-block; /* To apply pulse effect */
    animation: pulse 2s infinite; /* Pulse animation */
}
#user-main {
    text-align: center; /* Center the content */
    padding: 40px 20px; /* Add padding around the main content */
    background-color: #f9f9f9; /* Light background for contrast */
    min-height: calc(100vh - 60px); /* Ensure it takes full height minus header */
}

#welcome-message {
    font-size: 36px; /* Increase font size */
    color: #007bff; /* Blue color for the welcome message */
    font-weight: bold; /* Bold text for emphasis */
    animation: fadeIn 1s ease-in-out; /* Fade-in animation for appearance */
    margin-bottom: 20px; /* Space below the welcome message */
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1); /* Subtle shadow for depth */
}

/* Fade-in Animation */
@keyframes fadeIn {
    from {
        opacity: 0; /* Start invisible */
        transform: translateY(-20px); /* Slide in from above */
    }
    to {
        opacity: 1; /* End fully visible */
        transform: translateY(0); /* Original position */
    }
}

/* Container Styling */
.user-location-entry {
    background-color: #ffffff;
    padding: 2rem;
    border-radius: 10px;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
    max-width: 600px;
    text-align: center;
    border-top: 5px solid #007bff; /* Blue accent border on top */
    margin-left: 360px;
    margin-top: 50px;
}

/* Title Styling */
.user-location-entry h2 {
    color: #007bff;
    font-size: 1.8rem;
    margin-bottom: 1.5rem;
    font-weight: 600;
}

/* Input Field Styling */
#location-input {
    width: 100%;
    padding: 0.75rem;
    margin-bottom: 1rem;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 1rem;
    outline: none;
    transition: border-color 0.3s ease;
}

#location-input:focus {
    border-color: #007bff;
}

/* Use Current Location Button */
#use-current-location {
    background-color: #007bff;
    color: #ffffff;
    padding: 0.75rem;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.3s ease;
    font-size: 1rem;
    width: 100%;
    margin-bottom: 1rem;
}

#use-current-location:hover {
    background-color: #0056b3; /* Darker blue for hover effect */
}

/* Enter Location Button */
#enter-location {
    background-color: #007bff;
    color: #ffffff;
    padding: 0.75rem;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 1.1rem;
    width: 100%;
    transition: background-color 0.3s ease;
    font-weight: 600;
}

#enter-location:hover {
    background-color: #0056b3;
}

/* Responsive Design */
@media (max-width: 480px) {
    .user-location-entry {
        padding: 1.5rem;
    }

    #location-input,
    #use-current-location,
    #enter-location {
        font-size: 0.9rem;
        padding: 0.65rem;
    }
}
/* Vehicle Info Container Styling */
#vehicle-info {
    background: linear-gradient(135deg, #007bff, #0056b3); /* Subtle gradient */
    border-radius: 12px;
    padding: 30px;
    width: 90%;
    max-width: 500px;
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
    color: white;
    text-align: center;
    font-family: Arial, sans-serif;
    margin-left: 400px;
}

#vehicle-info h2 {
    color: #fff;
    margin-bottom: 20px;
    font-size: 1.8em;
    font-weight: bold;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

/* Label styling */
#vehicle-info label {
    display: block;
    font-weight: 600;
    margin: 20px 0 8px;
    color: #e0e0e0;
    font-size: 1.1em;
}

/* Select input styling */
#vehicle-info select {
    width: 100%;
    padding: 10px;
    border-radius: 6px;
    border: none;
    font-size: 1em;
    background-color: #ffffff;
    color: #333;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    margin-bottom: 15px;
    transition: all 0.3s ease;
}

#vehicle-info select:disabled {
    background-color: #e0e0e0;
    color: #777;
}

#vehicle-info select:focus {
    outline: none;
    border: 2px solid #0056b3; /* Darker blue border on focus */
    box-shadow: 0 0 8px rgba(0, 123, 255, 0.3);
}

/* Adding a subtle hover effect on selects */
#vehicle-info select:hover {
    background-color: #f9f9f9;
}

/* Media query for responsiveness */
@media (max-width: 600px) {
    #vehicle-info {
        padding: 20px;
        font-size: 0.9em;
    }

    #vehicle-info h2 {
        font-size: 1.5em;
    }
}
#enter-vehicle-info {
    background-color: #007bff;
    color: white;
    border: none;
    padding: 12px 24px;
    font-size: 16px;
    font-weight: bold;
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.3s ease, box-shadow 0.3s ease;
}

#enter-vehicle-info:hover {
    background-color: #0056b3; /* Darker blue for hover effect */
    box-shadow: 0px 4px 8px rgba(0, 123, 255, 0.2);
}

#enter-vehicle-info:active {
    background-color: #004080; /* Even darker blue for active effect */
    box-shadow: none;
}
  /* Styling for the unique container */
  .services-info-container {
        max-width: 600px;
        margin: 30px auto;
        padding: 20px;
        border: 2px solid #007bff;
        border-radius: 10px;
        background-color: #fff;
        box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
        color: #333;
        font-family: Arial, sans-serif;
    }
    
    .services-info-container h2 {
        text-align: center;
        color: #007bff;
        font-size: 24px;
        margin-bottom: 20px;
    }
    
    .services-info-container label {
        font-weight: bold;
        color: #333;
    }

    /* Dropdown styling */
    #serviceType {
        width: 100%;
        padding: 8px;
        font-size: 16px;
        border: 1px solid #007bff;
        border-radius: 5px;
        margin: 10px 0 20px;
        color: #333;
    }
    
    /* Section styling */
    .services-info-section {
        display: none;
        background-color: #f8f9fa;
        padding: 15px;
        border-radius: 8px;
        border: 1px solid #ddd;
        margin-top: 10px;
    }
    
    .services-info-section label {
        display: block;
        margin-bottom: 8px;
    }
    
    /* Checkbox section */
    #emergencyIssues, #routineIssues {
        margin-bottom: 15px;
    }
    
    /* Date-time input */
    input[type="datetime-local"] {
        width: 100%;
        padding: 8px;
        font-size: 16px;
        border: 1px solid #007bff;
        border-radius: 5px;
        margin-top: 10px;
        margin-bottom: 20px;
    }
    
    /* Button styling */
    .services-info-section button {
        width: 100%;
        padding: 10px;
        background-color: #007bff;
        color: #fff;
        font-size: 18px;
        font-weight: bold;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }
    
    .services-info-section button:hover {
        background-color: #0056b3;
    }
    
    /* Checkbox styling */
    input[type="checkbox"] {
        margin-right: 8px;
        accent-color: #007bff;
    }
    
    /* Checkbox label styling */
    #emergencyIssues div, #routineIssues div {
        display: flex;
        align-items: center;
        margin-bottom: 8px;
    }
    /* Ensure all service sections are hidden initially */
.services-info-section {
    display: none;
}

/* Add a class to control visibility */
.show {
    display: block;
}

  </style>
       

    <!-- Include Leaflet.js for map -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    
</head>
<body>
    <header>
        <div class="user-header-container">
            <h1 class="company-name">AutoFix</h1> <!-- Company Name -->
        </div>
    
        <div class="user-toggle-button-container">
            <button id="user-toggle-button">â˜°</button> <!-- Toggle Button -->
        </div>
    
        <nav class="user-nav-bar" id="user-nav-bar">
            <a href="#user-profile" class="user-profile-link">Profile</a>
            <a href="#" class="user-bookings-link">Bookings</a> 
            <a href="#" class="user-ratings-link">Ratings</a>
            <a href="#" class="user-logout-button">Logout</a>
            <button class="user-close-button" id="user-close-button">Close</button> <!-- Close Button -->
        </nav>
    
        <!-- Overlay background -->
        <div id="user-overlay"></div>
    
        <!-- Profile Popup -->
        <div id="userProfilePopup" class="user-profile-popup" style="display: none;">
            <div class="user-popup-content">
                <span class="user-close-popup" id="user-closeProfilePopup">&times;</span>
                <h2 class="user-profile-title">User Profile</h2>
                <p><strong>Full Name:</strong> <span id="user-profileName"></span></p>
                <p><strong>Mobile Number:</strong> <span id="user-profileMobile"></span></p>
            </div>
        </div>
    </header>
    
    <main id="user-main">
        <h2 id="welcome-message"></h2>

        <div class="user-location-entry" id="user-location-entry">
            <h2>Enter Your Location</h2>
            
            <!-- Location Input Field -->
            <div class="user-location-input-group">
                <input type="text" id="location-input" placeholder="Enter location manually" />
                <button id="use-current-location">Use Current Location</button>
            </div>
        
            <!-- Confirmation Button -->
            <button id="enter-location">Enter Location</button>
        </div>
        
        <!-- Vehicle Info Form (initially hidden) -->
        <div id="vehicle-info" style="display: none;">
            <h2>Select Vehicle Information</h2>
            
            <label for="vehicle-type">Vehicle Type:</label>
            <select id="vehicle-type">
                <option value="">Select Vehicle Type</option>
                <option value="car">Car</option>
                <option value="bike">Bike</option>
                <option value="scooty">Scooty</option>
            </select>
        
            <label for="vehicle-company">Company Name:</label>
            <select id="vehicle-company" disabled>
                <option value="">Select Company</option>
            </select>
        
            <label for="vehicle-model">Model Name:</label>
            <select id="vehicle-model" disabled>
                <option value="">Select Model</option>
            </select>

           <!-- Enter Button -->
    <button id="enter-vehicle-info">Enter</button> 
   </div>

   <div id="services-info" class="services-info-container" style="display: none;">
    <h2>Services Info</h2>
    <label for="serviceType">Select Type of Service:</label>
    <select id="serviceType">
        <option value="">--Select--</option>
        <option value="emergency">Emergency Service</option>
        <option value="routine">Routine Maintenance</option>
        <option value="monthly">Monthly Service Package</option>
    </select>

    <!-- Emergency Service Section -->
    <div id="emergencySection" class="services-info-section">
        <label for="emergencyIssues">Issue (optional):</label>
        <div id="emergencyIssues">
            <!-- Dynamically populated with issue checkboxes -->
        </div>
        <button onclick="enterServiceInfo()">Enter</button>
    </div>

    <!-- Routine Maintenance Section -->
    <div id="routineSection" class="services-info-section">
        <label for="routineIssues">Issue (optional):</label>
        <div id="routineIssues">
            <!-- Dynamically populated with issue checkboxes -->
        </div>
        <label for="routineDateTime">Date and Time:</label>
        <input type="datetime-local" id="routineDateTime">
        <button onclick="enterServiceInfo()">Enter</button>
    </div>

    <!-- Monthly Service Package Section -->
    <div id="monthlySection" class="services-info-section">
        <label for="monthlyDateTime">Date and Time:</label>
        <input type="datetime-local" id="monthlyDateTime">
        <button onclick="enterServiceInfo()">Enter</button>
    </div>
</div>

<div id="mechanic-search-container" style="display: none;">
    <h2>Searching for nearby mechanics...</h2>
    <!-- You can add loading indicators or further information here -->
</div>


    </main>
    
    <!-- User Details Modal -->
    <div id="user-details-modal">
        <div class="modal-content">
            <span class="close" onclick="closeUserDetails()">&times;</span>
            <h2>User Details</h2>
            <p id="user-info"></p>
            <button onclick="logout()">Logout</button>
        </div>
    </div>
       
       
<script>
// Function to show the navigation bar 
document.getElementById("user-toggle-button").addEventListener("click", function() {
    const navBar = document.getElementById("user-nav-bar");
    navBar.classList.toggle("active"); // Toggle active class to show/hide nav bar
});

// Function to close the navigation bar
document.getElementById("user-close-button").addEventListener("click", function() {
    const navBar = document.getElementById("user-nav-bar");
    navBar.classList.remove("active");
});

// Display welcome message when user logs in or signs up
window.addEventListener("DOMContentLoaded", function() {
    const mobileNo = sessionStorage.getItem('loggedInMobile');

    if (mobileNo) {
        fetch('/api/get-user-details', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ mobile_no: mobileNo })
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                typeWriterEffect(`Welcome ${data.full_name}`);
            } else {
                console.error('Error fetching user details:', data.message);
            }
        })
        .catch(error => {
            console.error('Error:', error);
        });
    }
});

// Typewriter effect for welcome message
function typeWriterEffect(message) {
    const welcomeMessage = document.getElementById("welcome-message");
    let index = 0;

    function typeWriter() {
        if (index < message.length) {
            welcomeMessage.innerHTML += message.charAt(index);
            index++;
            setTimeout(typeWriter, 100); // Adjust speed here if needed
        }
    }
    
    welcomeMessage.innerHTML = ""; // Clear existing text
    typeWriter();
}

// Function to show user profile
document.querySelector(".user-profile-link").addEventListener("click", function(event) {
    event.preventDefault(); // Prevent default anchor click behavior
    const mobileNo = sessionStorage.getItem('loggedInMobile'); // Get mobile number from session

    if (!mobileNo) {
        alert("User not logged in.");
        return;
    }

    fetch('/api/get-user-details', { // API call to get user details
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({ mobile_no: mobileNo })
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            // Update the profile information
            document.getElementById("user-profileName").innerText = data.full_name;
            document.getElementById("user-profileMobile").innerText = data.mobile_no;

            // Show the profile popup
            document.getElementById("userProfilePopup").style.display = "flex"; // Use flex to center it
        } else {
            alert(data.message);
        }
    })
    .catch(error => {
        console.error('Error:', error);
        alert("Error fetching user details.");
    });
});

// Function to close the user profile popup
document.getElementById("user-closeProfilePopup").addEventListener("click", function() {
    document.getElementById("userProfilePopup").style.display = "none";
});

// Close the popup if overlay is clicked
document.getElementById("user-overlay").addEventListener("click", function() {
    document.getElementById("userProfilePopup").style.display = "none";
});

// Function to handle logout
document.querySelector(".user-logout-button").addEventListener("click", function(event) {
    event.preventDefault(); // Prevent default anchor click behavior
    sessionStorage.removeItem('loggedInMobile'); // Clear the user's session
    window.location.href = 'index.html'; // Redirect to the landing page or login
});

// Function to handle getting the user's current location
function getCurrentLocation() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(success, error);
    } else {
        alert("Geolocation is not supported by this browser.");
    }
}

function success(position) {
    const latitude = position.coords.latitude;
    const longitude = position.coords.longitude;
    console.log(`Latitude: ${latitude}, Longitude: ${longitude}`);
    getPlaceName(latitude, longitude);
}

function error() {
    alert("Unable to retrieve your location. Please try again.");
}

// Function to reverse geocode using OpenStreetMap Nominatim
function getPlaceName(lat, lon) {
    const url = `https://nominatim.openstreetmap.org/reverse?lat=${lat}&lon=${lon}&format=json`;

    fetch(url)
        .then(response => response.json())
        .then(data => {
            if (data && data.display_name) {
                document.getElementById('location-input').value = data.display_name; // Fill the input field with the address
            } else {
                alert("Unable to retrieve address. Please try again.");
            }
        })
        .catch(error => {
            console.error('Error fetching location data:', error);
            alert("An error occurred while fetching the location data.");
        });
}

// Event listener for the button to get current location
document.getElementById('use-current-location').addEventListener('click', getCurrentLocation);

// Vehicle data
const vehicleData = {
    scooty: {
        "Honda": ["Activa", "Dio", "Grazia", "Navi", "SH125i"],
        "TVS": ["Jupiter", "Ntorq 125", "Scooty Pep+", "XL100", "Radeon"],
        "Bajaj": ["Chetak", "Avenger Street", "CT 100", "Pulsar RS 200"],
        "Yamaha": ["Fascino", "Ray ZR", "NMAX 155", "Aerox 155"],
        "Suzuki": ["Access 125", "Burgman Street", "Let's", "Address"],
        "Hero MotoCorp": ["Pleasure", "Maestro Edge", "Destini 125", "Dash"],
        "KTM": ["KTM 200 Duke", "KTM 390 Duke"],
        "Vespa": ["Primavera", "GTS Super", "LX", "S"],
        "Piaggio": ["Liberty 125", "Medley 125", "Fly 150"],
        "Lambretta": ["V-Special", "GT", "3-Wheeler"],
        "Mahindra": ["Gusto", "Duro DZ"],
        "Aprilia": ["SR 125", "SR 150", "Storm 125"],
        "Norton": ["Norton Commando 961"],
        "Ather Energy": ["Ather 450X", "Ather 450 Plus"],
        "Okinawa": ["Praise", "Ridge", "i-Praise"],
    },
    car: {
        "Toyota": ["Camry", "Corolla", "RAV4"],
        "Honda": ["Civic", "Accord", "CR-V"],
        "Ford": ["Fiesta", "Focus", "Mustang"],
        "Chevrolet": ["Malibu", "Impala", "Camaro"],
        "Hyundai": ["Elantra", "Sonata", "Tucson"],
        "Kia": ["Rio", "Optima", "Sportage"],
        "Nissan": ["Altima", "Maxima", "Rogue"],
        "Volkswagen": ["Jetta", "Passat", "Tiguan"],
        "Subaru": ["Impreza", "Outback", "Forester"],
        "Mazda": ["Mazda3", "Mazda6", "CX-5"],
        "BMW": ["3 Series", "5 Series", "X3"],
        "Mercedes-Benz": ["C-Class", "E-Class", "GLA"],
    },
    bike: {
        "Hero": ["Splendor", "Passion", "Glamour"],
        "Honda": ["CB Shine", "CBR", "Unicorn"],
        "Bajaj": ["Pulsar", "Avenger", "Dominar"],
        "TVS": ["Apache", "Victor", "Jupiter"],
        "Yamaha": ["FZ", "R15", "MT-15"],
        "Kawasaki": ["Ninja 300", "Z900", "Versys"],
        "Suzuki": ["Gixxer", "Access", "V-Strom"],
        "Royal Enfield": ["Bullet", "Classic", "Himalayan"],
    }
};

// Show vehicle info form when "Enter Location" is clicked
document.getElementById('enter-location').addEventListener('click', function() {
    const locationInput = document.getElementById('location-input').value;
    if (locationInput) {
        // Hide the user location entry section
        document.getElementById('user-location-entry').style.display = 'none';
        
        // Show the vehicle info section
        document.getElementById('vehicle-info').style.display = 'block';
    } else {
        alert("Please enter a location.");
    }
});

// Populate company names based on vehicle type selection
document.getElementById('vehicle-type').addEventListener('change', function() {
    const type = this.value;
    const companySelect = document.getElementById('vehicle-company');
    companySelect.innerHTML = '<option value="">Select Company</option>';
    document.getElementById('vehicle-model').innerHTML = '<option value="">Select Model</option>';
    companySelect.disabled = !type;

    if (type) {
        for (const company in vehicleData[type]) {
            companySelect.innerHTML += `<option value="${company}">${company}</option>`;
        }
    }
});

// Populate model names based on company selection
document.getElementById('vehicle-company').addEventListener('change', function() {
    const type = document.getElementById('vehicle-type').value;
    const company = this.value;
    const modelSelect = document.getElementById('vehicle-model');
    modelSelect.innerHTML = '<option value="">Select Model</option>';
    modelSelect.disabled = !company;

    if (company) {
        vehicleData[type][company].forEach(model => {
            modelSelect.innerHTML += `<option value="${model}">${model}</option>`;
        });
    }
});

// Enter button functionality for vehicle info section
document.getElementById('enter-vehicle-info').addEventListener('click', function() {
    const vehicleType = document.getElementById('vehicle-type').value;
    const vehicleCompany = document.getElementById('vehicle-company').value;
    const vehicleModel = document.getElementById('vehicle-model').value;

    if (vehicleType && vehicleCompany && vehicleModel) {
        alert(`Vehicle Info Submitted:\nType: ${vehicleType}\nCompany: ${vehicleCompany}\nModel: ${vehicleModel}`);
        
        // Hide vehicle info and show services info
        document.getElementById('vehicle-info').style.display = 'none';
        document.getElementById('services-info').style.display = 'block';
    } else {
        alert("Please select all vehicle information.");
    }
});

// Populate issue data (replace with your data)
const issues = [
    "Engine Failure",
    "Flat Tire",
    "Battery Issues",
    "Locked Out of Car",
    "Overheating",
    "Brake Failure",
    "Fuel Issues",
    "Transmission Problems",
    "Steering Malfunction",
    "Electrical System Failures",
    "Coolant Leaks",
    "Starter Motor Failure",
    "Suspension Problems",
    "Broken Belts or Hoses",
    "Wheel Alignment Issues",
    "Clutch Malfunction",
    "Exhaust System Problems",
    "Power Window Failures",
    "Air Conditioning Failure",
    "Headlight/Tail Light Malfunction",
    "Wheel Bearing Issues",
    "Emergency Brake Stuck",
    "Airbag Warning Light",
    "Broken Windshield Wipers",
    "Key Ignition Problems",
    "ABS Light On",
    "Radiator Issues",
    "Engine Misfiring",
    "Tire Pressure Sensor Malfunction",
    "Catalytic Converter Issues",
    "Dashboard Warning Lights",
    "Fuel Pump Failure",
    "Engine Stalling",
    "Oil Leaks",
    "Timing Belt Failure",
    "Rust and Corrosion",
    "Water Pump Failure",
    "Transmission Fluid Leaks",
    "Differential Problems",
    "Turbocharger Malfunction"
];

// Function to populate issues checkboxes
function populateIssues(sectionId) {
    const section = document.getElementById(sectionId);
    section.innerHTML = '';
    issues.forEach(issue => {
        const checkbox = document.createElement('input');
        checkbox.type = 'checkbox';
        checkbox.value = issue;
        checkbox.id = issue + '-' + sectionId;

        const label = document.createElement('label');
        label.htmlFor = checkbox.id;
        label.textContent = issue;

        const wrapper = document.createElement('div');
        wrapper.appendChild(checkbox);
        wrapper.appendChild(label);

        section.appendChild(wrapper);
    });
}

// Populate issues for each section
populateIssues('emergencyIssues');
populateIssues('routineIssues');

// Display the corresponding section based on service type selection
document.getElementById('serviceType').addEventListener('change', function() {
    const emergencySection = document.getElementById('emergencySection');
    const routineSection = document.getElementById('routineSection');
    const monthlySection = document.getElementById('monthlySection');

    // Hide all sections
    emergencySection.classList.remove('show');
    routineSection.classList.remove('show');
    monthlySection.classList.remove('show');

    // Show the selected section
    if (this.value === 'emergency') {
        emergencySection.classList.add('show');
    } else if (this.value === 'routine') {
        routineSection.classList.add('show');
    } else if (this.value === 'monthly') {
        monthlySection.classList.add('show');
    }
});

// Function to handle "Enter" button
function enterServiceInfo() {
    alert("Service information saved!");
}

function enterServiceInfo() {
    // Hide services info section
    document.getElementById('services-info').style.display = 'none';
    
    // Show mechanic search container
    const mechanicSearchContainer = document.getElementById('mechanic-search-container');
    mechanicSearchContainer.style.display = 'block'; // Assuming you have this container defined
}
    </script>




        

    
       

    <!-- Linking the external JavaScript file -->
    <script src="scripts.js"></script>
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
        
  
</body>
</html>
