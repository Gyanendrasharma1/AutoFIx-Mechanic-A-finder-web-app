<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AutoFix</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
   <!-- Leaflet CSS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<style>


</style>
</head>

<body>
    <header>
        <div class="header-container">
            <div class="logo">
                <h1>AutoFix</h1>
                 <!-- Company Name -->
               
            </div>
            <nav>
                <ul>
                    <li><a href="findmechanic.html" class="restricted-nav">Find Mechanic</a></li>
                    <li><a href="#" id="becomeMechanicLink">Become a Mechanic</a></li> 
                    <li><a href="customer_support.html" >Customer Support</a></li>
                    <li><a href="about_us.html">About Us</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <div class="login-signup-container" id="login-signup-container">
            <h2>Login / Signup</h2>
            <div id="mobile-input">
                <label for="mobile-no">Enter Mobile Number:</label>
                <input type="text" id="mobile-no" placeholder="Mobile Number" required>
                <button onclick="sendOtp()">Send OTP</button>
            </div>
    
            <div id="otp-input" style="display: none;">
                <label for="otp">Enter OTP:</label>
                <input type="text" id="otp" placeholder="OTP" required>
                <button onclick="verifyOtp()">Enter</button>
            </div>
    
            <div id="registration-form" style="display: none;">
                <label for="full-name">Full Name:</label>
                <input type="text" id="full-name" placeholder="Full Name" required>
                <input type="text" id="reg-mobile-no" placeholder="Mobile Number" readonly>
                <label for="password">Password:</label>
                <input type="password" id="password" placeholder="Password" required>
                <label for="confirm-password">Confirm Password:</label>
                <input type="password" id="confirm-password" placeholder="Confirm Password" required>
                <button onclick="register()">Sign Up</button>
            </div>
        </div>
       
    
        <section id="content-info">
            <h2>Why Choose AutoFix?</h2>
            <p>At AutoFix, we understand that finding a reliable mechanic can be a challenge. Our platform connects you with skilled mechanics who are ready to assist you, ensuring your vehicle gets the care it needs.</p>
            <p>Join our community today and enjoy peace of mind knowing that expert help is just a click away!</p>
        </section>

        <section id="services">
            <h2>Our Services</h2>
            <div class="service-container">
                <div class="service-box">
                    <img src="car-repair-icon.png" alt="Car Repair">
                    <h3>Car Repair</h3>
                    <p>Reliable car repair services for all makes and models.</p>
                </div>
                <div class="service-box">
                    <img src="bike-repair-icon.png" alt="Bike Repair">
                    <h3>Bike Repair</h3>
                    <p>Get your bike serviced with expert mechanics.</p>
                </div>
                <div class="service-box">
                    <img src="emergency-icon.png" alt="Emergency Service">
                    <h3>Emergency Assistance</h3>
                    <p>24/7 roadside assistance for any emergencies.</p>
                </div>
            </div>
        </section>
        <section id="testimonials">
            <h2>What Our Customers Say</h2>
            <div class="testimonial">
                <p>"AutoFix saved me when my car broke down late at night. The mechanic arrived quickly and fixed the issue!"</p>
                <span>- Amit Sharma</span>
            </div>
            <div class="testimonial">
                <p>"Great service and very affordable. Highly recommend for anyone looking for a reliable mechanic."</p>
                <span>- Jatin Pal</span>
            </div>
        </section>

        <section id="how-it-works">
            <h2>How AutoFix Works</h2>
            <div class="steps-container">
                <div class="step-box">
                    <img src="step1-icon.png" alt="Step 1">
                    <h3>Step 1</h3>
                    <p>Sign up and enter your location.</p>
                </div>
                <div class="step-box">
                    <img src="step2-icon.png" alt="Step 2">
                    <h3>Step 2</h3>
                    <p>Select the type of service you need and book a mechanic.</p>
                </div>
                <div class="step-box">
                    <img src="step3-icon.png" alt="Step 3">
                    <h3>Step 3</h3>
                    <p>Relax while our expert mechanics take care of your vehicle.</p>
                </div>
            </div>
        </section>   

        <section id="cta">
            <h2>Ready to get started?</h2>
            <p>Join AutoFix and connect with expert mechanics today!</p>
            <button onclick="showSignup()">Sign Up Now</button>
        </section>
        


    </main>
    
      

        <section id="about-us">
            <div class="about-container">
                <div class="about-content">
                    <h1>About Us</h1>
                    <p>Welcome to <strong>AutoFix</strong>! Founded by <strong>Gyanendra Sharma</strong>, we are a passionate team of young tech enthusiasts pursuing our <strong>BCA (Bachelor of Computer Applications)</strong> in our 5th semester.</p>
                    <p>Our core team consists of <strong>Vansh Batra</strong>, <strong>Kartik Gupta</strong>, <strong>Ajay Jha</strong>, and <strong>Vivek Gautam</strong>, each bringing unique skills and a shared vision to revolutionize the way vehicle maintenance is handled.</p>
                    <p>At <strong>AutoFix</strong>, we aim to simplify vehicle servicing by connecting customers with reliable mechanics through an easy-to-use web platform. Our mission is to make auto maintenance hassle-free, efficient, and accessible to everyone.</p>
                    <p>We are committed to continuously improving our platform to meet the needs of both customers and mechanics, providing valuable service and building lasting trust.</p>
                </div>
    
                <div class="about-image">
                    <img src="team.jpg" alt="AutoFix Team">
                </div>
            </div>
        </section>
        <footer>  
            <div class="footer-header">
                <h1>AutoFix</h1>
            </div>
        
            <div class="footer-container">
                <!-- First Row -->
                <div class="footer-row">
                    <!-- Company Section -->
                    <div class="footer-section">
                        <h3>Company</h3>
                        <ul>
                            <li><a href="#">About Us</a></li>
                            <li><a href="#">Our Story</a></li>
                            <li><a href="#">Leadership</a></li>
                            <li><a href="#">Careers</a></li>
                            <li><a href="#">Investors</a></li>
                            <li><a href="#">Newsroom</a></li>
                        </ul>
                    </div>
        
                    <!-- Customer Support Section -->
                    <div class="footer-section">
                        <h3>Customer Support</h3>
                        <ul>
                            <li><a href="#">Help Center</a></li>
                            <li><a href="#">Contact Us</a></li>
                            <li><a href="#">Live Chat</a></li>
                            <li><a href="#">Feedback</a></li>
                            <li><a href="#">Terms & Conditions</a></li>
                            <li><a href="#">Privacy Policy</a></li>
                        </ul>
                    </div>
        
                    <!-- Services Section -->
                    <div class="footer-section">
                        <h3>Services</h3>
                        <ul>
                            <li><a href="#">Find a Mechanic</a></li>
                            <li><a href="#">Become a Mechanic</a></li>
                            <li><a href="#">Service Plans</a></li>
                            <li><a href="#">Maintenance Tips</a></li>
                            <li><a href="#">Book an Appointment</a></li>
                            <li><a href="#">Emergency Services</a></li>
                        </ul>
                    </div>
        
                    <!-- Product Features Section -->
                    <div class="footer-section">
                        <h3>Product Features</h3>
                        <ul>
                            <li><a href="#">AutoFix App</a></li>
                            <li><a href="#">Service Coverage</a></li>
                            <li><a href="#">Vehicle Types Supported</a></li>
                            <li><a href="#">Parts & Accessories</a></li>
                            <li><a href="#">Gift Cards</a></li>
                        </ul>
                    </div>
        
                    <!-- User Engagement Section -->
                    <div class="footer-section">
                        <h3>User Engagement</h3>
                        <ul>
                            <li><a href="#">Blog</a></li>
                            <li><a href="#">Testimonials</a></li>
                            <li><a href="#">Community Forum</a></li>
                            <li><a href="#">Events</a></li>
                        </ul>
                    </div>
                </div>
        
                <!-- Second Row -->
                <div class="footer-row">
                    <!-- Social Media Links Section -->
                    <div class="footer-section">
                        <h3>Social Media</h3>
                        <ul>
                            <li><a href="#">Facebook</a></li>
                            <li><a href="#">Twitter</a></li>
                            <li><a href="#">Instagram</a></li>
                            <li><a href="#">YouTube</a></li>
                            <li><a href="#">LinkedIn</a></li>
                        </ul>
                    </div>
        
                    <!-- Legal Information Section -->
                    <div class="footer-section">
                        <h3>Legal Information</h3>
                        <ul>
                            <li><a href="#">Terms of Service</a></li>
                            <li><a href="#">Privacy Policy</a></li>
                            <li><a href="#">Cookie Policy</a></li>
                            <li><a href="#">Accessibility</a></li>
                        </ul>
                    </div>
        
                    <!-- Global Reach Section -->
                    <div class="footer-section">
                        <h3>Global Reach</h3>
                        <ul>
                            <li><a href="#">Language Selector</a></li>
                            <li><a href="#">Country-Specific Services</a></li>
                            <li><a href="#">Service Expansion</a></li>
                        </ul>
                    </div>
        
                    <!-- Sustainability Section -->
                    <div class="footer-section">
                        <h3>Sustainability</h3>
                        <ul>
                            <li><a href="#">Environmental Impact</a></li>
                            <li><a href="#">Diversity & Inclusion</a></li>
                            <li><a href="#">Sustainability Reports</a></li>
                        </ul>
                    </div>
        
                    <!-- Referral Programs Section -->
                    <div class="footer-section">
                        <h3>Referral Programs</h3>
                        <ul>
                            <li><a href="#">Refer a Friend</a></li>
                            <li><a href="#">Affiliate Program</a></li>
                        </ul>
                    </div>
                </div>
            </div>
                <!-- Existing Footer Content -->
                <div class="footer-container">
                    <!-- Your existing footer rows go here -->
                    <!-- Add your Company, Customer Support, Services, etc. -->
            
                    <!-- Copyright Section -->
                    <div class="footer-copyright">
                        <p>&copy; 2024 AutoFix. All rights reserved.</p>
                    </div>
                </div>
           
            
        </footer>

<!-- Modal for Mobile Number and OTP -->
<div id="mechanicModal" class="modal-mechanic" style="display: none;">
    <div class="modal-content-mechanic-unique">
        <span class="close-mechanic">&times;</span>
        <div id="mobile-step">
            <h2>Enter Mobile Number</h2>
            <form id="mobileForm">
                <input type="tel" id="mobileNumber" placeholder="Enter Mobile Number" required>
                <button type="submit">Send OTP</button>
            </form>
        </div>
        
        <div id="otp-step" style="display: none;">
            <h2>Enter OTP</h2>
            <form id="otpForm">
                <input type="text" id="otp" placeholder="Enter OTP" required>
                <button type="submit">Verify OTP</button>
            </form>
        </div>
    </div>
</div>
<!-- Include your JavaScript here -->
 <script>
// Simulated OTP (for demonstration purposes)
const simulatedOtp = "1234";

// Function to send OTP
function sendOtp() {
    const mobileNo = document.getElementById("mobile-no").value;

    if (!mobileNo) {
        alert("Please enter a mobile number.");
        return;
    }

    // Simulating OTP sending process
    console.log(`Sending OTP ${simulatedOtp} to ${mobileNo}`);

    // Here, you would normally make an API call to send the OTP.
    // For demonstration purposes, we will show the OTP input directly.
    document.getElementById("mobile-input").style.display = "none";
    document.getElementById("otp-input").style.display = "block";
}

// Function to verify OTP
function verifyOtp() {
    const enteredOtp = document.getElementById("otp").value;
    const mobileNo = document.getElementById("mobile-no").value;

    // Check if the entered OTP matches the simulated OTP
    if (enteredOtp !== simulatedOtp) {
        alert("Invalid OTP. Please try again.");
        return;
    }

    // Make an API call to check if the mobile number is already registered
    fetch('/api/check-mobile', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({ mobile_no: mobileNo })
    })
    .then(response => response.json())
    .then(data => {
        if (data.exists) {
            // If the mobile number exists, store it and redirect to findmechanic.html
            sessionStorage.setItem('loggedInMobile', mobileNo); // Store mobile number
            window.location.href = 'findmechanic.html';
        } else {
            // If it does not exist, show the registration form
            document.getElementById("otp-input").style.display = "none";
            document.getElementById("registration-form").style.display = "block";
            document.getElementById("reg-mobile-no").value = mobileNo; // Autofill mobile number
        }
    })
    .catch(error => {
        console.error('Error:', error);
    });
}

// Function to register the user
function register() {
    const fullName = document.getElementById("full-name").value;
    const mobileNo = document.getElementById("reg-mobile-no").value;
    const password = document.getElementById("password").value;
    const confirmPassword = document.getElementById("confirm-password").value;

    if (!fullName || !mobileNo || !password || !confirmPassword) {
        alert("Please fill in all fields.");
        return;
    }

    if (password !== confirmPassword) {
        alert("Passwords do not match.");
        return;
    }

    // Make an API call to register the user
    fetch('/api/register', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({ full_name: fullName, mobile_no: mobileNo, password: password })
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            sessionStorage.setItem('loggedInMobile', mobileNo); // Store mobile number
            window.location.href = 'findmechanic.html'; // Redirect after successful registration
        } else {
            alert(data.message);
        }
    })
    .catch(error => {
        console.error('Error:', error);
    });
}

// Function to show user details
function showUserDetails() {
    const mobileNo = sessionStorage.getItem('loggedInMobile'); // Get mobile number from session

    if (!mobileNo) {
        alert("User not logged in.");
        return;
    }

    fetch('/api/get-user-details', { // API call to get user details
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({ mobile_no: mobileNo })
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            document.getElementById("user-info").innerText = `Full Name: ${data.full_name}, Mobile No: ${data.mobile_no}`;
            document.getElementById("user-details-modal").style.display = "block"; // Show modal
        } else {
            alert(data.message);
        }
    })
    .catch(error => {
        console.error('Error:', error);
    });
}

// Function to close user details modal
function closeUserDetails() {
    document.getElementById("user-details-modal").style.display = "none";
}

// Function to log out the user
function logout() {
    sessionStorage.removeItem('loggedInMobile'); // Remove mobile number from session
    window.location.href = 'landing-page.html'; // Redirect to landing page or login
}



    

// 16-oct-2024
document.addEventListener("DOMContentLoaded", function() {
    // Select elements from the DOM
    const mechanicModal = document.getElementById('mechanicModal');
    const closeBtn = document.querySelector('.close-mechanic');
    const mobileStep = document.getElementById('mobile-step');
    const otpStep = document.getElementById('otp-step');
    const mobileForm = document.getElementById('mobileForm');
    const otpForm = document.getElementById('otpForm');
    const mobileNumberInput = document.getElementById('mobileNumber');
    const otpInput = document.getElementById('otp');

    // Function to open modal
    function openModal() {
        mechanicModal.style.display = 'block';
    }

    // Function to close the modal
    function closeModal() {
        mechanicModal.style.display = 'none';
    }

    // Event listener for closing the modal
    closeBtn.addEventListener('click', closeModal);

    // Event listener for the "Become a Mechanic" link
    document.getElementById('becomeMechanicLink').addEventListener('click', (event) => {
        event.preventDefault(); // Prevent the default action
        openModal(); // Open the modal
    });

    // Handle mobile number form submission
    mobileForm.addEventListener('submit', (event) => {
        event.preventDefault();
        const mobileNumber = mobileNumberInput.value.trim();

        // Validate mobile number
        if (mobileNumber.length !== 10 || isNaN(mobileNumber)) {
            alert('Please enter a valid 10-digit mobile number.');
            return;
        }

        // Simulate backend call to check if mobile number exists
        fetch('/check-mechanic', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ mobileNumber })
        })
        .then(response => response.json())
        .then(data => {
            // Save OTP locally for verification purpose
            localStorage.setItem('otp', '1234'); // Simulated OTP
            localStorage.setItem('mobileNumber', mobileNumber);
            alert('OTP sent successfully.');

            // Show the OTP step and hide the mobile number step
            mobileStep.style.display = 'none';
            otpStep.style.display = 'block';

            // Save the mechanic status (new or existing) in local storage
            localStorage.setItem('isNewMechanic', data.newMechanic);
        })
        .catch(error => {
            console.error('Error:', error);
            alert('An error occurred. Please try again.');
        });
    });

    // Handle OTP form submission
    otpForm.addEventListener('submit', (event) => {
        event.preventDefault();
        const enteredOtp = otpInput.value.trim();
        const storedOtp = localStorage.getItem('otp');
        const isNewMechanic = localStorage.getItem('isNewMechanic') === 'true'; // Retrieve mechanic status
        const mobileNumber = localStorage.getItem('mobileNumber'); // Retrieve the mobile number

        // Check if the entered OTP matches the stored OTP
        if (enteredOtp === storedOtp) {
            alert('OTP verified successfully.');

            // Save the mechanic's mobile number for later use
            localStorage.setItem('loggedInMechanicMobile', mobileNumber);

            // Redirect based on mechanic status
            if (isNewMechanic) {
                // Redirect new mechanics to mechanic-registration.html
                window.location.href = 'mechanic-registration.html';
            } else {
                // Redirect existing mechanics to became_mechanic.html
                window.location.href = 'became_mechanic.html';
            }
        } else {
            alert('Invalid OTP. Please try again.');
        }
    });

    // Close the modal when clicking outside of it
    window.addEventListener('click', (event) => {
        if (event.target === mechanicModal) {
            closeModal();
        }
    });
});

</script>

    <!-- Closing body tag -->

        

    
       

    <!-- Linking the external JavaScript file -->
    <script src="scripts.js" defer></script>
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
</body>

</html>